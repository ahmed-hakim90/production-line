# ๐ญ HAKIMO โ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฅูุชุงุฌ

ูุธุงู ERP ุฏุงุฎูู ูุฅุฏุงุฑุฉ ูุชุชุจุน ุฎุทูุท ุงูุฅูุชุงุฌุ ุชูุงุฑูุฑ ุงูุชุดุบููุ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุชุ ูุชุญููู ุงูุฃุฏุงุก.

ุชู ุชุทููุฑู ุจุงุณุชุฎุฏุงู **React 19 + Firebase + Zustand** ูุน ูุธุงู ูุตุงุฏูุฉ ูุตูุงุญูุงุช ุฏููุงูููู.

---
![React](https://img.shields.io/badge/React-19-blue)
![Firebase](https://img.shields.io/badge/Firebase-12-orange)
![Zustand](https://img.shields.io/badge/Zustand-5-purple)
![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)
![Version](https://img.shields.io/badge/version-4.0.22-green)

## ๐ ูุธุฑุฉ ุนุงูุฉ

| ุงูููุฒุฉ | ุงููุตู |
|--------|-------|
| ุงููุตุงุฏูุฉ | ุชุณุฌูู ุฏุฎูู ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ (Firebase Auth) |
| ุงูุตูุงุญูุงุช | ูุธุงู RBAC ุฏููุงูููู โ 4 ุฃุฏูุงุฑ ุงูุชุฑุงุถูุฉ + ุฃุฏูุงุฑ ูุฎุตุตุฉ |
| ูุฑูู ุงูุนูู | ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู + ุฅูุดุงุก ุญุณุงุจุงุช ุฏุฎูู + ุชุนููู ุฃุฏูุงุฑ |
| ุฎุทูุท ุงูุฅูุชุงุฌ | ุฅุฏุงุฑุฉ ููุชุงุจุนุฉ 16+ ุฎุท ุฅูุชุงุฌ ูุน ุญุงูุฉ ูุญุธูุฉ |
| ุงูููุชุฌุงุช | ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ูุน ุงููุฎุฒูู ูุงูุฑุตูุฏ ุงูุงูุชุชุงุญู |
| ุงูุชูุงุฑูุฑ | ุชุณุฌูู ุชูุงุฑูุฑ ุฅูุชุงุฌ ููููุฉ + ุทุจุงุนุฉ + ุชุตุฏูุฑ + ูุดุงุฑูุฉ |
| ุงูุฅุฏุฎุงู ุงูุณุฑูุน | ููุฑู ุณุฑูุน ูููุดุฑููู: ุฅุฏุฎุงู โ ุญูุธ โ ุทุจุงุนุฉ โ ูุงุชุณุงุจ |
| ุณุฌู ุงููุดุงุท | ุชุณุฌูู ุชููุงุฆู ููู ุงูุนูููุงุช (ุฏุฎููุ ุฅูุดุงุกุ ุชุนุฏููุ ุญุฐู) |
| Dashboard | ููุญุฉ ุชุญูู ุชุญููููุฉ ูุน KPIs ูุฑุณูู ุจูุงููุฉ ูุญุธูุฉ |
| ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ | ุญุถูุฑุ ุฅุฌุงุฒุงุชุ ุณูููุ ุฑูุงุชุจุ ูููู ุชูุธููู |
| ูุญุฑู ุงูููุงููุงุช | ุณูุณูุฉ ููุงููุงุช ูุคุณุณูุฉ + ุชูููุถ + ุชุตุนูุฏ ุชููุงุฆู |
| ุงูุทุจุงุนุฉ | ุทุจุงุนุฉ ูุจุงุดุฑุฉ + PDF + ุตูุฑุฉ + ูุดุงุฑูุฉ ูุงุชุณุงุจ |

---

## ๐ ูุธุงู ุงููุตุงุฏูุฉ (Authentication)

### ุชุณุฌูู ุงูุฏุฎูู
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู + ูููุฉ ุงููุฑูุฑ** ุนุจุฑ Firebase Auth
- ุญูุงูุฉ ูู ุงูุตูุญุงุช โ redirect ุชููุงุฆู ูู `/login` ูุบูุฑ ุงููุณุฌููู
- ุงูุชุญูู ูู ุญุงูุฉ ุงูุญุณุงุจ (`isActive`) โ ุงูุญุณุงุจุงุช ุงููุนุทูุฉ ูุง ูููููุง ุงูุฏุฎูู
- ุฌูุณุฉ ูุณุชูุฑุฉ (persistent session) โ ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุงูุฏุฎูู ุจุนุฏ ุฅุบูุงู ุงููุชุตูุญ

### ุฅูุดุงุก ุญุณุงุจ
- ุตูุญุฉ Login ูููุง **"ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ"** โ ูุชุงุญ ูุฃู ุดุฎุต
- ุงูุญุณุงุจ ุงูุฌุฏูุฏ ูุญุตู ุนูู ุฏูุฑ **"ูุดุฑู"** (ุฃูู ุตูุงุญูุงุช) ุชููุงุฆูุงู
- ุงููุฏูุฑ ูุบูุฑ ุงูุฏูุฑ ูู ุตูุญุฉ "ูุฑูู ุงูุนูู" ุจุนุฏ ุฐูู
- ุงูุญููู ุงููุทููุจุฉ: ุงูุงุณู ุงููุงูู + ุงูุจุฑูุฏ ุงูุฅููุชุฑููู + ูููุฉ ุงููุฑูุฑ

### ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช (ูููุฏูุฑ)
- ุฅูุดุงุก ุญุณุงุจุงุช ุฏุฎูู ูุฃุนุถุงุก ูุฑูู ุงูุนูู ูู ุตูุญุฉ "ูุฑูู ุงูุนูู"
- ุชูุนูู / ุชุนุทูู ุงูุญุณุงุจุงุช
- ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุนุจุฑ ุงูุจุฑูุฏ
- ุชุบููุฑ ุงูุฏูุฑ ูุงูุตูุงุญูุงุช

### ุงูุชูุฌูู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
- ุงูุชุทุจูู ูุญูุธ ุงููุณุงุฑ ุงููุทููุจ ูุจู ุชุณุฌูู ุงูุฏุฎูู ุชููุงุฆููุง
- ุจุนุฏ ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎูู ูุชู ุฅุนุงุฏุฉ ุงูุชูุฌูู ูููุณ ุงูุตูุญุฉ (ุฅู ูุงูุช ุตุงูุญุฉ)
- ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ูุณุงุฑ ูุญููุธ ูุชู ุงูุชุญููู ูุตูุญุฉ ุงูุจุฏุงูุฉ ุงูููุงุณุจุฉ ุญุณุจ ุงูุฏูุฑ

---

## ๐ฅ ูุธุงู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช (RBAC)

ุงููุธุงู ูุณุชุฎุฏู **ุตูุงุญูุงุช ุฏููุงููููุฉ** ูุฎุฒูุฉ ูู Firestore โ ูููู ุฅูุดุงุก ุฃุฏูุงุฑ ูุฎุตุตุฉ ูุชุนุฏูู ุตูุงุญูุงุชูุง ูู ููุญุฉ ุงูุชุญูู.

### ุงูุฃุฏูุงุฑ ุงูุงูุชุฑุงุถูุฉ

#### 1. ูุดุฑู (Supervisor)
- ุนุฑุถ ููุญุฉ ุงูุชุญูู
- ุฅูุดุงุก ุชูุงุฑูุฑ ุฅูุชุงุฌ
- ุงุณุชุฎุฏุงู ุงูุฅุฏุฎุงู ุงูุณุฑูุน
- ุทุจุงุนุฉ ูุชุตุฏูุฑ

#### 2. ูุดุฑู ุตุงูุฉ (Hall Supervisor)
- ูู ุตูุงุญูุงุช ุงููุดุฑู
- ุชุนุฏูู ุงูุชูุงุฑูุฑ
- ุชุนุฏูู ุญุงูุฉ ุงูุฎุทูุท
- ุนุฑุถ ุฌููุน ุงูุตูุญุงุช

#### 3. ูุณุคูู ูุตูุน (Factory Manager) โ ูุฑุงุกุฉ ููุท
- ุนุฑุถ ุฌููุน ุงูุตูุญุงุช
- ุทุจุงุนุฉ ูุชุตุฏูุฑ
- ูุง ููููู ุฅูุดุงุก ุฃู ุชุนุฏูู ุฃู ุญุฐู ุฃู ุจูุงูุงุช

#### 4. ูุฏูุฑ ุงููุธุงู (Admin) โ ูุงูู ุงูุตูุงุญูุงุช
- ูู ุงูุตูุงุญูุงุช ุจุฏูู ุงุณุชุซูุงุก
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ุฅูุดุงุก / ุชุนุทูู / ุชุบููุฑ ุฃุฏูุงุฑ)
- ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- ุญุฐู ุงูุชูุงุฑูุฑ
- ุนุฑุถ ุณุฌู ุงููุดุงุท

### ุฌุฏูู ุงูุตูุงุญูุงุช ุงูุชูุตููู

| ุงูุตูุงุญูุฉ | ูุดุฑู | ูุดุฑู ุตุงูุฉ | ูุณุคูู ูุตูุน | ูุฏูุฑ ุงููุธุงู |
|----------|:----:|:---------:|:----------:|:-----------:|
| ุนุฑุถ ููุญุฉ ุงูุชุญูู | โ | โ | โ | โ |
| ุนุฑุถ ุงูููุชุฌุงุช | โ | โ | โ | โ |
| ุนุฑุถ ุฎุทูุท ุงูุฅูุชุงุฌ | โ | โ | โ | โ |
| ุนุฑุถ ูุฑูู ุงูุนูู | โ | โ | โ | โ |
| ุฅูุดุงุก ุชูุฑูุฑ | โ | โ | โ | โ |
| ุชุนุฏูู ุชูุฑูุฑ | โ | โ | โ | โ |
| ุญุฐู ุชูุฑูุฑ | โ | โ | โ | โ |
| ุงูุฅุฏุฎุงู ุงูุณุฑูุน | โ | โ | โ | โ |
| ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู | โ | โ | โ | โ |
| ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ | โ | โ | โ | โ |
| ุณุฌู ุงููุดุงุท | โ | โ | โ | โ |
| ุทุจุงุนุฉ | โ | โ | โ | โ |
| ุชุตุฏูุฑ | โ | โ | โ | โ |

### ูุธุงู Permission Guards

```typescript
const { can, canCreateReport, canEditReport, canDeleteReport, canManageUsers } = usePermission();

// ูู ุงููููุจูููุช:
{canCreateReport && <Button>ุฅูุดุงุก ุชูุฑูุฑ</Button>}
{canManageUsers && <Button>ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</Button>}
{can('reports.view') && <Link to="/reports">ุงูุชูุงุฑูุฑ</Link>}
```

ูู ุงูุตูุงุญูุงุช ุงูููุฌูุฏุฉ ูู ุงููุธุงู:

| ุงููุฌููุนุฉ | ุงูุตูุงุญูุงุช |
|----------|----------|
| ููุญุฉ ุงูุชุญูู | `dashboard.view` |
| ุงูููุชุฌุงุช | `products.view` ยท `products.create` ยท `products.edit` ยท `products.delete` |
| ุฎุทูุท ุงูุฅูุชุงุฌ | `lines.view` ยท `lines.create` ยท `lines.edit` ยท `lines.delete` |
| ุงูููุธููู | `employees.view` ยท `employees.create` ยท `employees.edit` ยท `employees.delete` |
| ุงูุชูุงุฑูุฑ | `reports.view` ยท `reports.create` ยท `reports.edit` ยท `reports.delete` |
| ุญุงูุฉ ุงูุฎุทูุท | `lineStatus.view` ยท `lineStatus.edit` |
| ุฅุนุฏุงุฏุงุช ุงูููุชุฌ-ุงูุฎุท | `lineProductConfig.view` |
| ุงูุฅุนุฏุงุฏุงุช | `settings.view` ยท `settings.edit` |
| ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ | `roles.view` ยท `roles.manage` |
| ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู | `users.view` ยท `users.create` ยท `users.edit` ยท `users.delete` |
| ุณุฌู ุงููุดุงุท | `activityLog.view` |
| ุงูุฅุฏุฎุงู ุงูุณุฑูุน | `quickAction.view` |
| ุฎุงุต | `print` ยท `export` |

---

## ๐ ุณุฌู ุงููุดุงุท (Activity Log)

ูุณุฌู ุงููุธุงู ุชููุงุฆูุงู ูู ุงูุนูููุงุช:

| ุงูุญุฏุซ | ุงููุตู |
|-------|-------|
| `LOGIN` | ุชุณุฌูู ุฏุฎูู ูุณุชุฎุฏู |
| `LOGOUT` | ุชุณุฌูู ุฎุฑูุฌ |
| `CREATE_REPORT` | ุฅูุดุงุก ุชูุฑูุฑ ุฅูุชุงุฌ ุฌุฏูุฏ |
| `UPDATE_REPORT` | ุชุนุฏูู ุชูุฑูุฑ ุฅูุชุงุฌ |
| `DELETE_REPORT` | ุญุฐู ุชูุฑูุฑ ุฅูุชุงุฌ |
| `CREATE_USER` | ุฅูุดุงุก ุญุณุงุจ ูุณุชุฎุฏู ุฌุฏูุฏ |
| `UPDATE_USER_ROLE` | ุชุบููุฑ ุฏูุฑ ูุณุชุฎุฏู |
| `TOGGLE_USER_ACTIVE` | ุชูุนูู / ุชุนุทูู ุญุณุงุจ ูุณุชุฎุฏู |

- ุงูุชุณุฌูู ุชููุงุฆู ุจุงููุงูู ูู ุงูู Store โ ูุง ุญุงุฌุฉ ูุงุณุชุฏุนุงุก ูุฏูู
- ุตูุญุฉ `/activity-log` (ูููุฏูุฑ ููุท) ูุน **pagination**
- ูู ุณุฌู ูุญุชูู: ุงููุณุชุฎุฏูุ ุงูุจุฑูุฏุ ููุน ุงูุนูููุฉุ ุงููุตูุ ุงูุชูููุชุ ุจูุงูุงุช ุฅุถุงููุฉ

---

## โก ุตูุญุฉ ุงูุฅุฏุฎุงู ุงูุณุฑูุน (Quick Action)

ุตูุญุฉ ูุฎุตุตุฉ ูููุดุฑููู ูุฅุฏุฎุงู ุจูุงูุงุช ุงูุฅูุชุงุฌ ุจุณุฑุนุฉ:

**ุงูุญููู:**
- ุฎุท ุงูุฅูุชุงุฌ
- ุงูููุชุฌ
- ุงููููุฉ ุงูููุชุฌุฉ
- ุงููุงูู
- ุนุฏุฏ ุงูุนูุงู
- ุณุงุนุงุช ุงูุนูู

**ุงูุฃุฒุฑุงุฑ ุจุนุฏ ุงูุญูุธ:**
- ๐จ๏ธ **ุทุจุงุนุฉ** โ ูุชุญ ูุงูุฐุฉ ุทุจุงุนุฉ
- ๐ผ๏ธ **ุชุตุฏูุฑ ูุตูุฑุฉ** โ ุชุญููู PNG ุจุงุณุชุฎุฏุงู `html2canvas`
- ๐ฑ **ูุดุงุฑูุฉ ุนุจุฑ WhatsApp** โ Web Share API ุฃู ุชุญููู + ูุชุญ ูุงุชุณุงุจ
- โ **ุชูุฑูุฑ ุฌุฏูุฏ** โ ูุณุญ ุงูููุฑู ูุงูุจุฏุก ูู ุฌุฏูุฏ

---

## ๐๏ธ ูููู ุงููุดุฑูุน

```
โโโ App.tsx                         # ุชุฌููุน routes + auth gate + layout mounting
โโโ components/
โ   โโโ Layout.tsx                  # App shell (sidebar + topbar + footer)
โ   โโโ ProtectedRoute.tsx          # Guard ููุตูุงุญูุงุช ุนูู ูุณุชูู ุงูู route
โ
โโโ modules/
โ   โโโ auth/                       # login / setup / pending + auth services
โ   โโโ dashboards/                 # admin/factory/employee dashboards
โ   โโโ production/                 # products, lines, work orders, scanner, plans
โ   โโโ quality/                    # inspections, CAPA, rework, quality reports
โ   โโโ hr/                         # employees, attendance, payroll, approvals
โ   โโโ costs/                      # cost centers, allocations, monthly costs
โ   โโโ system/                     # roles, activity log, system settings
โ   โโโ shared/                     # shared UI/hooks/routes/types ุจูู ุงููุญุฏุงุช
โ
โโโ services/                       # ุฎุฏูุงุช cross-module (firebase, users, logs...)
โโโ shared/events/                  # event bus + system events + listeners
โโโ store/useAppStore.ts            # Zustand store (auth + RBAC + orchestration)
โโโ utils/                          # calculations + permissions + export helpers
โโโ types.ts                        # domain & firestore types
โโโ firestore.rules                 # Firestore security rules
โโโ storage.rules                   # Storage security rules
โโโ scripts/                        # automation scripts (version/changelog)
```

---

## ๐งญ ูุธุงู ุงููุณุงุฑุงุช (Modular Routing)

ูุชู ุชุนุฑูู ุงููุณุงุฑุงุช ุฏุงุฎู ูู Module ูู ููู `routes/index.ts` ุซู ุชุฌููุนูุง ูุฑูุฒููุง ูู `App.tsx`:

- `AUTH_PUBLIC_ROUTES` ูููุณุงุฑุงุช ุงูุนุงูุฉ (`/login`, `/setup`, `/pending`)
- `DASHBOARD_ROUTES`, `PRODUCTION_ROUTES`, `QUALITY_ROUTES`, `HR_ROUTES`, `COST_ROUTES`, `SYSTEM_ROUTES`
- ูู ูุณุงุฑ ูุญูู ุจุตูุงุญูุฉ ูุญุฏุฏุฉ ุนุจุฑ `ProtectedRoute`
- ุตูุญุฉ ุงูุฌุฐุฑ `/` ุชุนูุฏ ุงูุชูุฌูู ุชููุงุฆููุง ููุงุฌูุฉ ุงูุจุฏุงูุฉ ุงูููุงุณุจุฉ ุญุณุจ ุตูุงุญูุงุช ุงููุณุชุฎุฏู

ูุฐุง ุงูุฃุณููุจ ูุณูู ุฅุถุงูุฉ ูุญุฏุฉ ุฌุฏูุฏุฉ ุจุฏูู ุชุนุฏูู ูุจูุฑ ูู ูููู ุงูุชุทุจูู.

---

## ๐ฅ Firestore Collections

| Collection | ุงููุตู | ุงูุญููู ุงูุฑุฆูุณูุฉ |
|------------|-------|----------------|
| `roles` | ุชุนุฑูู ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช | `name`, `color`, `permissions` |
| `users` | ุจูุงูุงุช ุงููุณุชุฎุฏููู (ูุฑุชุจุท ุจู Firebase Auth) | `email`, `displayName`, `roleId`, `isActive`, `createdAt` |
| `products` | ุงูููุชุฌุงุช | `name`, `model`, `code`, `openingBalance` |
| `production_lines` | ุฎุทูุท ุงูุฅูุชุงุฌ | `name`, `dailyWorkingHours`, `maxWorkers`, `status` |
| `employees` | ุงูููุธููู | `name`, `departmentId`, `jobPositionId`, `isActive`, `baseSalary` |
| `production_reports` | ุชูุงุฑูุฑ ุงูุฅูุชุงุฌ | `date`, `lineId`, `productId`, `employeeId`, `quantities...` |
| `line_status` | ุญุงูุฉ ุงูุฎุทูุท (ูุญุธู) | `lineId`, `currentProductId`, `targetTodayQty` |
| `line_product_config` | ุฅุนุฏุงุฏุงุช ุฒูู ุงูุชุฌููุน | `lineId`, `productId`, `standardAssemblyTime` |
| `activity_logs` | ุณุฌู ุงููุดุงุท | `userId`, `userEmail`, `action`, `description`, `timestamp` |

---

## ๐ก๏ธ Firestore Security Rules

```
โ isAuthenticated()     โ ุฃู ูุณุชุฎุฏู ูุณุฌู ุฏุฎูู
โ isActiveUser()        โ ูุณุชุฎุฏู ูุณุฌู + ุญุณุงุจู ููุนู
โ hasPermission(perm)   โ ูุณุชุฎุฏู ููุนู + ูุฏูู ุตูุงุญูุฉ ูุญุฏุฏุฉ
โ isAdmin()             โ ูุณุชุฎุฏู ูุฏูู ุตูุงุญูุฉ roles.manage
โ isBootstrap()         โ ูุณุชุฎุฏู ุฌุฏูุฏ ุจุฏูู user document (ุฅุนุฏุงุฏ ุฃููู)
```

| Collection | Read | Create | Update | Delete |
|------------|------|--------|--------|--------|
| `roles` | `isAuthenticated` | `isAdmin` or `isBootstrap` | `isAdmin` | `isAdmin` |
| `users` | owner or `isAdmin` | owner or `isAdmin` | owner or `isAdmin` | `isAdmin` |
| `products` | `isActiveUser` | `products.create` | `products.edit` | `isAdmin` |
| `production_lines` | `isActiveUser` | `lines.create` | `lines.edit` | `isAdmin` |
| `employees` | `isActiveUser` | `employees.create` | `employees.edit` | `isAdmin` |
| `production_reports` | `isActiveUser` | `reports.create` | `reports.edit` | `isAdmin` |
| `activity_logs` | `activityLog.view` | `isAuthenticated` | `isAdmin` | `isAdmin` |

> **ููุงุญุธุฉ:** ุงูุญุฐู ูู ูู ุงูู collections ูุญุตูุฑ ุนูู ุงููุฏูุฑ ููุท (`isAdmin`).

---

## ๐ ูุนุงุฏูุงุช ุงูุญุณุงุจุงุช

| ุงููููุงุณ | ุงููุนุงุฏูุฉ |
|---------|---------|
| ูุชูุณุท ุฒูู ุงูุชุฌููุน | `sum(workers ร hours) / sum(quantityProduced)` |
| ุงูููุงุกุฉ | `standardAssemblyTime / actualAssemblyTime` |
| ูุณุจุฉ ุงููุงูู | `quantityWaste / (quantityProduced + quantityWaste)` |
| ุงูุทุงูุฉ ุงูููููุฉ | `(maxWorkers ร dailyWorkingHours) / avgAssemblyTime` |
| ูุชูุณุท ุงูุฅูุชุงุฌ ุงููููู | `totalProduced / uniqueWorkDays` |

ุฌููุน ุงูุญุณุงุจุงุช ุชุชู ุฏููุงูููููุง ููุง ูุชู ุชุฎุฒูู ุฃุฑูุงู ูุดุชูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

---

## ๐ฆ ุงูููุชุจุงุช

| ุงูููุชุจุฉ | ุงูุฅุตุฏุงุฑ | ุงูุงุณุชุฎุฏุงู |
|---------|---------|----------|
| `react` + `react-dom` | 19.2.4 | ูุงุฌูุฉ ุงููุณุชุฎุฏู |
| `vite` | 6.2.0 | ุฃุฏุงุฉ ุงูุจูุงุก ูุงูุชุดุบูู |
| `tailwindcss` | CDN | ุงูุชูุณูู (RTL) |
| `zustand` | 5.0.11 | ุฅุฏุงุฑุฉ ุงูุญุงูุฉ |
| `firebase` | 12.9.0 | ูุงุนุฏุฉ ุงูุจูุงูุงุช + ุงููุตุงุฏูุฉ |
| `react-router-dom` | 7.13.0 | ุงูุชููู (HashRouter) |
| `recharts` | 3.7.0 | ุงูุฑุณูู ุงูุจูุงููุฉ |
| `react-to-print` | 3.2.0 | ุงูุทุจุงุนุฉ |
| `xlsx` + `file-saver` | 0.18.5 | ุชุตุฏูุฑ Excel |
| `jspdf` + `html2canvas` | 4.1.0 / 1.4.1 | ุชุตุฏูุฑ PDF + ุตูุฑ |
| `typescript` | 5.8.2 | Type safety |

---

## โ๏ธ ุงูุชุดุบูู ุงููุญูู

**ุงููุชุทูุจุงุช:** Node.js 18+

### 1. ุชุซุจูุช ุงูููุชุจุงุช

```bash
npm install
```

### 2. ุฅุนุฏุงุฏ Firebase

ุฃูุดุฆ ููู `.env.local` ูู ุฌุฐุฑ ุงููุดุฑูุน:

```env
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
```

### 3. ุฅุนุฏุงุฏ Firebase Console

1. ูุนูู **Authentication** โ **Email/Password** ูู Firebase Console
2. ุงูุดุฑ **Firestore Security Rules** ูู ููู `firestore.rules`:
   ```bash
   firebase deploy --only firestore:rules
   ```
3. ุงูุดุฑ **Firebase Storage Rules** ูู ููู `storage.rules`:
   ```bash
   firebase deploy --only storage
   ```

### 4. ุชุดุบูู ุงูุณูุฑูุฑ ุงููุญูู

```bash
npm run dev
```

### 5. ุฅูุดุงุก ุฃูู ุญุณุงุจ

1. ุงูุชุญ ุงูุชุทุจูู โ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
2. ุงุถุบุท **"ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ"**
3. ุฃุฏุฎู ุงูุงุณู + ุงูุจุฑูุฏ + ูููุฉ ุงููุฑูุฑ
4. ุงูุญุณุงุจ ุงูุฃูู ูุญุตู ุนูู ุฏูุฑ "ูุดุฑู" โ ุบููุฑู ูู "ูุฏูุฑ ุงููุธุงู" ูู Firestore Console ุฃู ุฃูุดุฆ ุญุณุงุจ ุงููุฏูุฑ ูู ุตูุญุฉ ูุฑูู ุงูุนูู

### 6. ุจูุงุก ูุณุฎุฉ ุงูุฅูุชุงุฌ

```bash
npm run build
```

### 7. ุณูุฑุจุชุงุช ูุณุงุนุฏุฉ

```bash
npm run version:auto     # ุชุญุฏูุซ ุฑูู ุงูุฅุตุฏุงุฑ ุชููุงุฆููุง
npm run changelog:auto   # ุชูููุฏ CHANGELOG ุชููุงุฆููุง
```

---

## ๐ ููุงุญุธุงุช ุงูุฃุฏุงุก

- ุงุณุชุนูุงูุงุช Firestore ูููุชุฑุฉ ุจุงูุชุงุฑูุฎ โ ูุง ูุชู ุชุญููู ูู ุงูุณุฌูุงุช
- `onSnapshot` ูุณุชุฎุฏู ููุท ูู Dashboard ู Line Status
- Loading Skeletons ูุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ ุฃุซูุงุก ุงูุชุญููู
- ููุงุฑูุฉ ุณุทุญูุฉ (shallow) ูู Zustand ูุชุฌูุจ ุฅุนุงุฏุฉ ุงูุฑุณู ุบูุฑ ุงูุถุฑูุฑูุฉ
- ุงูุชุฑุชูุจ ูุชู ูู ุงูุฐุงูุฑุฉ ูุชุฌูุจ ุงูุญุงุฌุฉ ูู Composite Indexes ูู Firestore
- ูููู ุฅูุดุงุก ุฃูุซุฑ ูู ุชูุฑูุฑ ูููุณ ุงูุฎุท ูู ููุณ ุงูููู

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    React App (Vite)                       โ
โ                                                          โ
โ  โโโโโโโโโโโ   โโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Pages   โโโโถโ  Zustand     โโโโถโ  Firebase        โ  โ
โ  โ  (UI)    โ   โ  Store       โ   โ  Services        โ  โ
โ  โโโโโโโโโโโ   โ              โ   โ                  โ  โ
โ       โ        โ  โข Auth      โ   โ  โข Firestore     โ  โ
โ       โ        โ  โข RBAC      โ   โ  โข Auth          โ  โ
โ       โผ        โ  โข Data      โ   โ  โข Activity Log  โ  โ
โ  โโโโโโโโโโโ   โ  โข Logging   โ   โโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Utils   โ   โโโโโโโโโโโโโโโโ                         โ
โ  โ          โ                                            โ
โ  โ โข perms  โ   โโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโโ  โ
โ  โ โข calc   โ   โ  Components  โ   โ  Firestore Rules โ  โ
โ  โ โข export โ   โ  โข Layout    โ   โ  (Server-side)   โ  โ
โ  โโโโโโโโโโโ   โ  โข Protected โ   โโโโโโโโโโโโโโโโโโโโ  โ
โ                โ  โข UI        โ                          โ
โ                โโโโโโโโโโโโโโโโ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ุชุฏูู ุงููุตุงุฏูุฉ:**

```
Login Page โ Firebase Auth โ Fetch User Doc โ Check isActive
    โ Resolve Role โ Apply Permissions โ Load App Data โ Dashboard
```

**ุชุฏูู ุฅูุดุงุก ุญุณุงุจ:**

```
Register โ Firebase Auth (create) โ Seed Roles โ Create User Doc
    โ Assign Default Role (ูุดุฑู) โ Load App Data โ Dashboard
```

---

## ๐ข ูุญุฏุฉ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ (HR Module)

### ุงูุจููุฉ

```
modules/hr/
โโโ approval/          โ ูุญุฑู ุงูููุงููุงุช ุงููุคุณุณู (Enterprise Approval Engine)
โ   โโโ types.ts       โ ุฃููุงุน ุงูุจูุงูุงุช
โ   โโโ approvalBuilder.ts    โ ุจูุงุก ุณูุงุณู ุงูููุงููุงุช (snapshot-based)
โ   โโโ approvalEngine.ts     โ ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ (CRUD + workflow)
โ   โโโ approvalValidation.ts โ ุงูุชุญูู + RBAC
โ   โโโ approvalDelegation.ts โ ุฎุฏูุฉ ุงูุชูููุถุงุช
โ   โโโ approvalEscalation.ts โ ุงูุชุตุนูุฏ ุงูุชููุงุฆู
โ   โโโ approvalAudit.ts      โ ุณุฌู ุงููุฑุงุฌุนุฉ
โโโ config/            โ ุฅุนุฏุงุฏุงุช HR ุงููุฑูุฒูุฉ (8 ูุญุฏุงุช)
โโโ payroll/           โ ูุธุงู ุงูุฑูุงุชุจ (ุงุณุชุฑุงุชูุฌูุงุช: ุดูุฑู/ูููู/ุจุงูุณุงุนุฉ)
โโโ pages/             โ ุตูุญุงุช HR
โโโ utils/             โ ุฃุฏูุงุช ูุณุงุนุฏุฉ (payslipGenerator)
```

### ุงูุตูุญุงุช

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงูุตูุงุญูุฉ |
|--------|--------|----------|
| ุณุฌู ุงูุญุถูุฑ | `/attendance` | `attendance.view` |
| ุงุณุชูุฑุงุฏ ุงูุญุถูุฑ | `/attendance/import` | `attendance.import` |
| ุงูุฅุฌุงุฒุงุช | `/leave-requests` | `leave.view` |
| ุงูุณููู | `/loan-requests` | `loan.view` |
| ูุฑูุฒ ุงูููุงููุงุช | `/approval-center` | `approval.view` |
| ุงูุชูููุถุงุช | `/delegations` | `approval.delegate` |
| ูุดู ุงูุฑูุงุชุจ | `/payroll` | `payroll.view` |
| ุงููููู ุงูุชูุธููู | `/organization` | `hrSettings.view` |
| ุฅุนุฏุงุฏุงุช HR | `/hr-settings` | `hrSettings.view` |

---

## ๐จโ๐ป ุงููุทูุฑ

**Ahmed Abdel Hakim Said**

---

<div align="center">

**HAKIMO โ ูุธุงู ุฅูุชุงุฌ ูุชูุงูู** ๐ญ

ุงูุฅุตุฏุงุฑ 4.0.2 โ ูุน ูุตุงุฏูุฉ + ุตูุงุญูุงุช + HR + ุฑูุงุชุจ + ููุงููุงุช ูุคุณุณูุฉ

</div>
